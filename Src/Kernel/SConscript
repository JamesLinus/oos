# vim: syntax=python

Import('env')

sources = []

kernel = env.Clone()
kernel.Append(OOCFLAGS=['-sourcepath=Src/Kernel'])

Export('sources', 'kernel')
SConscript('Hal/SConscript')
SConscript('Boot/SConscript')

ooclib = kernel.Ooc('ooc.lib', 'Main.ooc')

Clean(ooclib, '#ooc_tmp')

sources += [
  'Printf.c',
  ooclib
]

oos = kernel.Program('oos', sources)

Return('oos')

